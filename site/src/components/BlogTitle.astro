---
interface Props {
  title: string
  date: string
  authorName: string
  authorUrl: string
}

const { title, date, authorName, authorUrl } = Astro.props
const parsed = new Date(date)
const displayDate = Number.isNaN(parsed.getTime())
  ? date
  : new Intl.DateTimeFormat('en', { year: 'numeric', month: 'long', day: 'numeric' }).format(parsed)
---

<header class="flex flex-col items-start justify-between w-full gap-3">
  <p class="kicker">Article</p>
  <h1 class="display-heading text-4xl md:text-5xl text-slate-900 leading-tight">{title}</h1>
  <div class="flex flex-wrap items-center gap-3 text-sm text-slate-600">
    <a
      href={authorUrl}
      class="link-underline font-semibold"
      target={authorUrl.startsWith('http') ? '_blank' : undefined}
      rel={authorUrl.startsWith('http') ? 'noopener noreferrer' : undefined}
    >
      {authorName}
    </a>
    <span aria-hidden="true">-</span>
    <time datetime={date} class="font-mono text-xs uppercase tracking-[0.08em]">{displayDate}</time>
  </div>
</header>
