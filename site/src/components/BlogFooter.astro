---
import BuyMeACoffee from './BuyMeACoffee.astro'

interface Props {
  author: string
  about: string
  coffeeSlug: string
  imageUrl: string
  githubUrl?: string
  linkedinUrl?: string
  xUrl?: string
}

const {
  author,
  about,
  coffeeSlug,
  imageUrl,
  githubUrl,
  linkedinUrl,
  xUrl,
} = Astro.props
---

<div class="flex flex-col items-center justify-between w-full gap-4 py-4">
  <div class="flex flex-col sm:flex-row items-start sm:items-center justify-start rounded-2xl border border-slate-200 bg-white/85 p-4 w-full gap-4">
    <img
      src={imageUrl}
      alt={author}
      width="100"
      height="100"
      class="rounded-2xl"
      loading="lazy"
      decoding="async"
      fetchpriority="low"
    />
    <div class="flex flex-col items-start justify-between w-full">
      <span class="text-lg font-semibold text-slate-900">{author}</span>
      <span class="text-sm text-slate-600">{about}</span>
    </div>
    <div class="flex sm:flex-col items-center sm:items-end justify-start gap-2">
      {githubUrl && (
        <a
          href={githubUrl}
          target="_blank"
          rel="noopener noreferrer"
          aria-label="GitHub profile"
          class="focus-ring rounded-full p-1.5 border border-slate-200 bg-white hover:border-slate-400 min-w-11 min-h-11 inline-flex items-center justify-center"
        >
          <img
            src="/images/github_light.svg"
            alt=""
            width="24"
            height="24"
            class="w-6 h-6"
            loading="lazy"
            decoding="async"
            aria-hidden="true"
          />
        </a>
      )}
      {linkedinUrl && (
        <a
          href={linkedinUrl}
          target="_blank"
          rel="noopener noreferrer"
          aria-label="LinkedIn profile"
          class="focus-ring rounded-full p-1.5 border border-slate-200 bg-white hover:border-slate-400 min-w-11 min-h-11 inline-flex items-center justify-center"
        >
          <img
            src="/images/linkedin.svg"
            alt=""
            width="24"
            height="24"
            class="w-6 h-6"
            loading="lazy"
            decoding="async"
            aria-hidden="true"
          />
        </a>
      )}
      {xUrl && (
        <a
          href={xUrl}
          target="_blank"
          rel="noopener noreferrer"
          aria-label="X (Twitter) profile"
          class="focus-ring rounded-full p-1.5 border border-slate-200 bg-white hover:border-slate-400 min-w-11 min-h-11 inline-flex items-center justify-center"
        >
          <img
            src="/images/x_light.svg"
            alt=""
            width="24"
            height="24"
            class="w-6 h-6"
            loading="lazy"
            decoding="async"
            aria-hidden="true"
          />
        </a>
      )}
    </div>
  </div>

  <div class="flex flex-row flex-wrap items-center justify-between w-full gap-3">
    <a
      href="/blog"
      class="link-underline text-sm flex min-h-11 flex-row items-center justify-center gap-2 rounded-md px-2 text-slate-700 font-semibold focus-ring"
    >
      <span aria-hidden="true">&larr;</span>
      Back to blogs
    </a>
    <BuyMeACoffee slug={coffeeSlug} />
  </div>
</div>
